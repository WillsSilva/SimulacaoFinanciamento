(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{26816:(e,a,s)=>{Promise.resolve().then(s.bind(s,98543))},98543:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ez});var r=s(95155),t=s(12115),l=s(90221),o=s(62177),i=s(55594),n=s(52596),d=s(39688);function c(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,d.QP)((0,n.$)(a))}function m(e){return null==e||isNaN(e)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}let x=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:c("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t})});x.displayName="Card";let u=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:c("flex flex-col space-y-1.5 p-6",s),...t})});u.displayName="CardHeader";let h=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:c("text-2xl font-semibold leading-none tracking-tight",s),...t})});h.displayName="CardTitle";let j=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:c("text-sm text-muted-foreground",s),...t})});j.displayName="CardDescription";let f=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:c("p-6 pt-0",s),...t})});f.displayName="CardContent",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{ref:a,className:c("flex items-center p-6 pt-0",s),...t})}).displayName="CardFooter";var p=s(99708),b=s(40968),g=s(74466);let v=(0,g.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),N=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(b.b,{ref:a,className:c(v(),s),...t})});N.displayName=b.b.displayName;let y=o.Op,C=t.createContext({}),R=e=>{let{...a}=e;return(0,r.jsx)(C.Provider,{value:{name:a.name},children:(0,r.jsx)(o.xI,{...a})})},w=()=>{let e=t.useContext(C),a=t.useContext(A),{getFieldState:s,formState:r}=(0,o.xW)(),l=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=a;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},A=t.createContext({}),P=t.forwardRef((e,a)=>{let{className:s,...l}=e,o=t.useId();return(0,r.jsx)(A.Provider,{value:{id:o},children:(0,r.jsx)("div",{ref:a,className:c("space-y-2",s),...l})})});P.displayName="FormItem";let S=t.forwardRef((e,a)=>{let{className:s,...t}=e,{error:l,formItemId:o}=w();return(0,r.jsx)(N,{ref:a,className:c(l&&"text-destructive",s),htmlFor:o,...t})});S.displayName="FormLabel";let z=t.forwardRef((e,a)=>{let{...s}=e,{error:t,formItemId:l,formDescriptionId:o,formMessageId:i}=w();return(0,r.jsx)(p.DX,{ref:a,id:l,"aria-describedby":t?"".concat(o," ").concat(i):"".concat(o),"aria-invalid":!!t,...s})});z.displayName="FormControl";let k=t.forwardRef((e,a)=>{let{className:s,...t}=e,{formDescriptionId:l}=w();return(0,r.jsx)("p",{ref:a,id:l,className:c("text-sm text-muted-foreground",s),...t})});k.displayName="FormDescription";let E=t.forwardRef((e,a)=>{let{className:s,children:t,...l}=e,{error:o,formMessageId:i}=w(),n=o?String(null==o?void 0:o.message):t;return n?(0,r.jsx)("p",{ref:a,id:i,className:c("text-sm font-medium text-destructive",s),...l,children:n}):null});E.displayName="FormMessage";let I=t.forwardRef((e,a)=>{let{className:s,type:t,...l}=e;return(0,r.jsx)("input",{type:t,className:c("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});I.displayName="Input";let F=(0,g.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=t.forwardRef((e,a)=>{let{className:s,variant:t,size:l,asChild:o=!1,...i}=e,n=o?p.DX:"button";return(0,r.jsx)(n,{className:c(F({variant:t,size:l,className:s})),ref:a,...i})});D.displayName="Button";var T=s(46196),_=s(66474),M=s(47863),J=s(5196);let K=T.bL;T.YJ;let O=T.WT,V=t.forwardRef((e,a)=>{let{className:s,children:t,...l}=e;return(0,r.jsxs)(T.l9,{ref:a,className:c("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[t,(0,r.jsx)(T.In,{asChild:!0,children:(0,r.jsx)(_.A,{className:"h-4 w-4 opacity-50"})})]})});V.displayName=T.l9.displayName;let $=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(T.PP,{ref:a,className:c("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(M.A,{className:"h-4 w-4"})})});$.displayName=T.PP.displayName;let L=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(T.wn,{ref:a,className:c("flex cursor-default items-center justify-center py-1",s),...t,children:(0,r.jsx)(_.A,{className:"h-4 w-4"})})});L.displayName=T.wn.displayName;let q=t.forwardRef((e,a)=>{let{className:s,children:t,position:l="popper",...o}=e;return(0,r.jsx)(T.ZL,{children:(0,r.jsxs)(T.UC,{ref:a,className:c("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...o,children:[(0,r.jsx)($,{}),(0,r.jsx)(T.LM,{className:c("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,r.jsx)(L,{})]})})});q.displayName=T.UC.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(T.JU,{ref:a,className:c("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t})}).displayName=T.JU.displayName;let B=t.forwardRef((e,a)=>{let{className:s,children:t,...l}=e;return(0,r.jsxs)(T.q7,{ref:a,className:c("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(T.VF,{children:(0,r.jsx)(J.A,{className:"h-4 w-4"})})}),(0,r.jsx)(T.p4,{children:t})]})});B.displayName=T.q7.displayName,t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(T.wv,{ref:a,className:c("-mx-1 my-1 h-px bg-muted",s),...t})}).displayName=T.wv.displayName;var W=s(60704);let U=W.bL,G=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(W.B8,{ref:a,className:c("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t})});G.displayName=W.B8.displayName;let Z=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(W.l9,{ref:a,className:c("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t})});Z.displayName=W.l9.displayName;let H=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(W.UC,{ref:a,className:c("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t})});H.displayName=W.UC.displayName;var Q=s(54059),X=s(9428);let Y=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(Q.bL,{className:c("grid gap-2",s),...t,ref:a})});Y.displayName=Q.bL.displayName;let ee=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(Q.q7,{ref:a,className:c("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...t,children:(0,r.jsx)(Q.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(X.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});ee.displayName=Q.q7.displayName;let ea=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:a,className:c("w-full caption-bottom text-sm",s),...t})})});ea.displayName="Table";let es=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("thead",{ref:a,className:c("[&_tr]:border-b",s),...t})});es.displayName="TableHeader";let er=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("tbody",{ref:a,className:c("[&_tr:last-child]:border-0",s),...t})});er.displayName="TableBody",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("tfoot",{ref:a,className:c("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t})}).displayName="TableFooter";let et=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("tr",{ref:a,className:c("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t})});et.displayName="TableRow";let el=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("th",{ref:a,className:c("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t})});el.displayName="TableHead";let eo=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("td",{ref:a,className:c("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t})});eo.displayName="TableCell",t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)("caption",{ref:a,className:c("mt-4 text-sm text-muted-foreground",s),...t})}).displayName="TableCaption";var ei=s(42355),en=s(13052);function ed(e){let{data:a}=e,[s,l]=(0,t.useState)(1),o=Math.ceil(a.length/10),i=(s-1)*10,n=i+10,d=a.slice(i,n);return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(ea,{children:[(0,r.jsx)(es,{children:(0,r.jsxs)(et,{children:[(0,r.jsx)(el,{children:"M\xeas"}),(0,r.jsx)(el,{children:"Saldo Devedor"}),(0,r.jsx)(el,{children:"Amortiza\xe7\xe3o"}),(0,r.jsx)(el,{children:"Juros"}),(0,r.jsx)(el,{children:"Parcela"}),(0,r.jsx)(el,{children:"Amort. Extra"}),(0,r.jsx)(el,{children:"Parcelas Restantes"})]})}),(0,r.jsx)(er,{children:d.map((e,a)=>(0,r.jsxs)(et,{children:[(0,r.jsx)(eo,{children:e.Mês}),(0,r.jsx)(eo,{children:m(Number(e["Saldo devedor"]))}),(0,r.jsx)(eo,{children:m(Number(e.Amortização))}),(0,r.jsx)(eo,{children:m(Number(e.Juros))}),(0,r.jsx)(eo,{children:m(Number(e.Parcela))}),(0,r.jsx)(eo,{children:m(Number(e["Amortiza\xe7\xe3o Ext."]))}),(0,r.jsx)(eo,{children:e["Parcelas restantes"]})]},a))})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",i+1," a ",Math.min(n,a.length)," de ",a.length," parcelas"]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(D,{variant:"outline",size:"sm",onClick:()=>{s>1&&l(s-1)},disabled:1===s,children:[(0,r.jsx)(ei.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"P\xe1gina anterior"})]}),(0,r.jsxs)("div",{className:"text-sm",children:["P\xe1gina ",s," de ",o]}),(0,r.jsxs)(D,{variant:"outline",size:"sm",onClick:()=>{s<o&&l(s+1)},disabled:s===o,children:[(0,r.jsx)(en.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Pr\xf3xima p\xe1gina"})]})]})]})]})}var ec=s(83540),em=s(99445),ex=s(94754),eu=s(96025),eh=s(16238),ej=s(94517),ef=s(24026),ep=s(62341),eb=s(93504),eg=s(21374),ev=s(8782),eN=s(34e3),ey=s(54811),eC=s(3401),eR=s(83394);function ew(e){let{data:a}=e,[s,l]=(0,t.useState)([]),[o,i]=(0,t.useState)([]);(0,t.useEffect)(()=>{l(a.map(e=>({mes:e.Mês,saldoDevedor:Number(e["Saldo devedor"]),amortizacao:Number(e.Amortização),juros:Number(e.Juros),parcela:Number(e.Parcela),amortizacaoExtra:Number(e["Amortiza\xe7\xe3o Ext."]),parcelasRestantes:e["Parcelas restantes"]})));let e=[];for(let s=0;s<a.length;s+=12)a[s]&&e.push({ano:Math.ceil(a[s].Mês/12),mes:a[s].Mês,saldoDevedor:Number(a[s]["Saldo devedor"]),parcela:Number(a[s].Parcela)});i(e)},[a]);let n=["#0088FE","#00C49F","#FFBB28","#FF8042"],d=a.slice(0,12),c=d.reduce((e,a)=>e+Number(a.Parcela),0),u=d.reduce((e,a)=>e+Number(a.Amortização),0),h=d.reduce((e,a)=>e+Number(a.Juros),0),j=[{name:"Amortiza\xe7\xe3o",value:u},{name:"Juros",value:h},{name:"Seguro",value:c-u-h}],p=e=>{let{active:a,payload:s,label:t}=e;return a&&s&&s.length?(0,r.jsxs)("div",{className:"bg-background border rounded p-2 shadow-md",children:[(0,r.jsx)("p",{className:"font-medium",children:"M\xeas: ".concat(t)}),s.map((e,a)=>(0,r.jsx)("p",{style:{color:e.color},children:"".concat(e.name,": ").concat(m(Number(e.value)))},a))]}):null};return(0,r.jsxs)(U,{defaultValue:"balance",children:[(0,r.jsxs)(G,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(Z,{value:"balance",children:"Saldo Devedor"}),(0,r.jsx)(Z,{value:"payments",children:"Parcelas"}),(0,r.jsx)(Z,{value:"breakdown",children:"Composi\xe7\xe3o"}),(0,r.jsx)(Z,{value:"comparison",children:"Comparativo"})]}),(0,r.jsx)(H,{value:"balance",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Evolu\xe7\xe3o do Saldo Devedor"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(em.Q,{data:o,margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"ano",label:{value:"Anos",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),label:{value:"Saldo (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(p,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(ep.G,{type:"monotone",dataKey:"saldoDevedor",name:"Saldo Devedor",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3})]})})})]})})}),(0,r.jsx)(H,{value:"payments",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Valor das Parcelas"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eb.b,{data:s.filter((e,a)=>a%12==0||0===a||a===s.length-1),margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes",label:{value:"M\xeas",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat(e.toFixed(0)),label:{value:"Valor (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(p,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"parcela",name:"Parcela",stroke:"#82ca9d",activeDot:{r:8}})]})})})]})})}),(0,r.jsx)(H,{value:"breakdown",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Composi\xe7\xe3o da Parcela (Primeiro Ano)"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("div",{className:"h-[300px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(ev.r,{children:[(0,r.jsx)(eN.F,{data:j,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:a,percent:s}=e;return"".concat(a," ").concat((100*s).toFixed(0),"%")},children:j.map((e,a)=>(0,r.jsx)(ey.f,{fill:n[a%n.length]},"cell-".concat(a)))}),(0,r.jsx)(ej.m,{formatter:e=>m(e)}),(0,r.jsx)(ef.s,{})]})})}),(0,r.jsx)("div",{className:"h-[300px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eC.E,{data:s.slice(0,12),margin:{top:20,right:30,left:20,bottom:5},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes"}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat(e.toFixed(0))}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(p,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eR.y,{dataKey:"amortizacao",name:"Amortiza\xe7\xe3o",stackId:"a",fill:"#0088FE"}),(0,r.jsx)(eR.y,{dataKey:"juros",name:"Juros",stackId:"a",fill:"#00C49F"}),(0,r.jsx)(eR.y,{dataKey:"amortizacaoExtra",name:"Amort. Extra",stackId:"a",fill:"#FFBB28"})]})})})]})]})})}),(0,r.jsx)(H,{value:"comparison",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Comparativo Juros x Amortiza\xe7\xe3o"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(em.Q,{data:s.filter((e,a)=>a%12==0||0===a||a===s.length-1),margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes"}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat(e.toFixed(0))}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(p,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(ep.G,{type:"monotone",dataKey:"amortizacao",name:"Amortiza\xe7\xe3o",stackId:"1",stroke:"#8884d8",fill:"#8884d8"}),(0,r.jsx)(ep.G,{type:"monotone",dataKey:"juros",name:"Juros",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d"})]})})})]})})})]})}var eA=s(51382);function eP(e){let{sacData:a,priceData:s}=e,[l,o]=(0,t.useState)([]),[i,n]=(0,t.useState)([]);(0,t.useEffect)(()=>{if(0===a.length||0===s.length)return;let e=Math.min(a.length,s.length),r=[],t=0,l=0,i=0,d=0,c=[];for(let o=0;o<e;o++)a[o]&&s[o]&&(t+=Number(a[o].Parcela),l+=Number(s[o].Parcela),i+=Number(a[o].Juros),d+=Number(s[o].Juros),r.push({mes:a[o].Mês,parcelaSAC:Number(a[o].Parcela),parcelaPRICE:Number(s[o].Parcela),saldoSAC:Number(a[o]["Saldo devedor"]),saldoPRICE:Number(s[o]["Saldo devedor"]),jurosSAC:Number(a[o].Juros),jurosPRICE:Number(s[o].Juros),amortizacaoSAC:Number(a[o].Amortização),amortizacaoPRICE:Number(s[o].Amortização)}),(o%12==0||o===e-1)&&c.push({mes:a[o].Mês,totalPagoSAC:t,totalPagoPRICE:l,totalJurosSAC:i,totalJurosPRICE:d,diferencaTotal:l-t,diferencaJuros:d-i}));o(r),n(c)},[a,s]);let d=e=>{let{active:a,payload:s,label:t}=e;return a&&s&&s.length?(0,r.jsxs)("div",{className:"bg-background border rounded p-2 shadow-md",children:[(0,r.jsx)("p",{className:"font-medium",children:"M\xeas: ".concat(t)}),s.map((e,a)=>(0,r.jsx)("p",{style:{color:e.color},children:"".concat(e.name,": ").concat(m(Number(e.value)))},a))]}):null};return(0,r.jsxs)(U,{defaultValue:"parcelas",children:[(0,r.jsxs)(G,{className:"grid w-full grid-cols-4",children:[(0,r.jsx)(Z,{value:"parcelas",children:"Parcelas"}),(0,r.jsx)(Z,{value:"saldo",children:"Saldo Devedor"}),(0,r.jsx)(Z,{value:"juros",children:"Juros"}),(0,r.jsx)(Z,{value:"total",children:"Total Pago"})]}),(0,r.jsx)(H,{value:"parcelas",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Comparativo de Parcelas"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eb.b,{data:l.filter((e,a)=>a%12==0||0===a||a===l.length-1),margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes",label:{value:"M\xeas",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat(e.toFixed(0)),label:{value:"Valor (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(d,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"parcelaSAC",name:"Parcela SAC",stroke:"#8884d8",activeDot:{r:8}}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"parcelaPRICE",name:"Parcela PRICE",stroke:"#82ca9d",activeDot:{r:8}})]})})}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"An\xe1lise:"}),(0,r.jsx)("p",{children:"No sistema SAC, as parcelas s\xe3o decrescentes ao longo do tempo, enquanto no sistema PRICE as parcelas s\xe3o fixas (exceto por pequenas varia\xe7\xf5es devido \xe0 TR)."}),(0,r.jsx)("p",{className:"mt-2",children:"As parcelas iniciais do SAC s\xe3o maiores que as do PRICE, mas com o tempo se tornam menores."})]})]})})}),(0,r.jsx)(H,{value:"saldo",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Comparativo de Saldo Devedor"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eb.b,{data:l.filter((e,a)=>a%12==0||0===a||a===l.length-1),margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes",label:{value:"M\xeas",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),label:{value:"Saldo (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(d,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"saldoSAC",name:"Saldo SAC",stroke:"#8884d8",activeDot:{r:8}}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"saldoPRICE",name:"Saldo PRICE",stroke:"#82ca9d",activeDot:{r:8}})]})})}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"An\xe1lise:"}),(0,r.jsx)("p",{children:"No sistema SAC, o saldo devedor diminui mais rapidamente no in\xedcio do financiamento, pois a amortiza\xe7\xe3o \xe9 constante."}),(0,r.jsx)("p",{className:"mt-2",children:"No sistema PRICE, a amortiza\xe7\xe3o \xe9 crescente, o que faz com que o saldo devedor diminua mais lentamente no in\xedcio."})]})]})})}),(0,r.jsx)(H,{value:"juros",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Comparativo de Juros"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eA.X,{data:l.filter((e,a)=>a%12==0||0===a||a===l.length-1),margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes",label:{value:"M\xeas",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat(e.toFixed(0)),label:{value:"Juros (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(d,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eR.y,{dataKey:"jurosSAC",name:"Juros SAC",fill:"#8884d8",barSize:20}),(0,r.jsx)(eR.y,{dataKey:"jurosPRICE",name:"Juros PRICE",fill:"#82ca9d",barSize:20}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"amortizacaoSAC",name:"Amortiza\xe7\xe3o SAC",stroke:"#ff7300",strokeDasharray:"5 5"}),(0,r.jsx)(eg.N,{type:"monotone",dataKey:"amortizacaoPRICE",name:"Amortiza\xe7\xe3o PRICE",stroke:"#ff0000",strokeDasharray:"5 5"})]})})}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"An\xe1lise:"}),(0,r.jsx)("p",{children:"No sistema SAC, os juros diminuem mais rapidamente, pois s\xe3o calculados sobre um saldo devedor que diminui a uma taxa constante."}),(0,r.jsx)("p",{className:"mt-2",children:"No sistema PRICE, os juros s\xe3o maiores no in\xedcio e diminuem mais lentamente, enquanto a amortiza\xe7\xe3o aumenta ao longo do tempo."})]})]})})}),(0,r.jsx)(H,{value:"total",children:(0,r.jsx)(x,{children:(0,r.jsxs)(f,{className:"pt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Total Pago e Economia"}),(0,r.jsx)("div",{className:"h-[400px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eC.E,{data:i,margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes",label:{value:"M\xeas",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),label:{value:"Valor Total (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(d,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eR.y,{dataKey:"totalPagoSAC",name:"Total Pago SAC",fill:"#8884d8"}),(0,r.jsx)(eR.y,{dataKey:"totalPagoPRICE",name:"Total Pago PRICE",fill:"#82ca9d"})]})})}),(0,r.jsx)("div",{className:"mt-6 h-[300px]",children:(0,r.jsx)(ec.u,{width:"100%",height:"100%",children:(0,r.jsxs)(eC.E,{data:i,margin:{top:10,right:30,left:0,bottom:0},children:[(0,r.jsx)(ex.d,{strokeDasharray:"3 3"}),(0,r.jsx)(eu.W,{dataKey:"mes",label:{value:"M\xeas",position:"insideBottomRight",offset:0}}),(0,r.jsx)(eh.h,{tickFormatter:e=>"R$ ".concat((e/1e3).toFixed(0),"k"),label:{value:"Juros Totais (R$)",angle:-90,position:"insideLeft"}}),(0,r.jsx)(ej.m,{content:(0,r.jsx)(d,{})}),(0,r.jsx)(ef.s,{}),(0,r.jsx)(eR.y,{dataKey:"totalJurosSAC",name:"Juros Totais SAC",fill:"#8884d8"}),(0,r.jsx)(eR.y,{dataKey:"totalJurosPRICE",name:"Juros Totais PRICE",fill:"#82ca9d"})]})})}),(0,r.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"An\xe1lise Financeira:"}),(0,r.jsx)("p",{children:"No sistema SAC, o total pago ao final do financiamento \xe9 geralmente menor que no sistema PRICE, principalmente devido ao menor valor total de juros."}),(0,r.jsx)("p",{className:"mt-2",children:"A economia com o sistema SAC em rela\xe7\xe3o ao PRICE pode ser significativa no longo prazo, mas exige maior capacidade de pagamento no in\xedcio do financiamento."}),(0,r.jsx)("p",{className:"mt-2",children:"O sistema PRICE \xe9 mais adequado para quem precisa de parcelas fixas para planejamento financeiro, enquanto o SAC \xe9 mais vantajoso para quem pode arcar com parcelas maiores no in\xedcio."})]})]})})})]})}let eS=i.Ik({valor:i.au.number().positive("O valor deve ser positivo"),num_parcelas:i.au.number().int().positive("O n\xfamero de parcelas deve ser positivo"),taxa_anual:i.au.number().positive("A taxa anual deve ser positiva"),tr:i.au.number().min(0,"A TR deve ser maior ou igual a zero"),parcela_alvo:i.au.number().int().positive("A parcela alvo deve ser positiva"),amortizacao_extra:i.au.number().min(0,"A amortiza\xe7\xe3o extra deve ser maior ou igual a zero"),tipo_amortizacao:i.Yj().default("SEM AMORTIZA\xc7\xc3O"),sistema:i.k5(["SAC","PRICE"]).default("SAC")});function ez(){let[e,a]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[n,d]=(0,t.useState)("SAC"),[c,m]=(0,t.useState)(!1),p=(0,o.mN)({resolver:(0,l.u)(eS),defaultValues:{valor:166078,num_parcelas:420,taxa_anual:5.64,tr:.17,parcela_alvo:1200,amortizacao_extra:0,tipo_amortizacao:"SEM AMORTIZA\xc7\xc3O",sistema:"SAC"}});async function b(e){m(!0);try{let s=await fetch("http://apisimulacao.duckdns.org:8000/calcular_sac",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,tipo_amortizacao:e.tipo_amortizacao})}),r=await s.json();a(r.parcelas);try{let a=await fetch("http://apisimulacao.duckdns.org:8000/calcular_price",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,tipo_amortizacao:e.tipo_amortizacao})}),s=await a.json();i(s.parcelas)}catch(a){console.error("Erro ao calcular PRICE (endpoint pode n\xe3o existir):",a),function(e){let a=e.valor,s=e.num_parcelas,r=e.taxa_anual,t=e.tr/100,l=Math.pow(1+r/100,1/12)-1,o=l*Math.pow(1+l,s)*a/(Math.pow(1+l,s)-1),n=.185*a/s+25,d=a*(1+t),c=[];for(let a=1;a<=s;a++){let r=d*l,i=o-r,m=o+n;if(c.push({Mês:a,"Saldo devedor":d,Amortização:i,Juros:r,Parcela:m,"Amortiza\xe7\xe3o Ext.":e.amortizacao_extra,"Tipo de Amortiza\xe7\xe3o":e.tipo_amortizacao,"Parcelas restantes":s-a+1,"Prazo Final":s-a+1}),(d=Math.max(0,(d=(d-i)*(1+t))-e.amortizacao_extra))<=0)break}i(c)}(e)}d("SAC"===e.sistema?"SAC":"PRICE")}catch(e){console.error("Erro ao calcular:",e)}finally{m(!1)}}return(0,r.jsxs)("main",{className:"container mx-auto py-8 px-4",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Calculadora de Financiamento"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)(x,{className:"lg:col-span-1",children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{children:"Par\xe2metros do Financiamento"}),(0,r.jsx)(j,{children:"Preencha os dados para calcular seu financiamento"})]}),(0,r.jsx)(f,{children:(0,r.jsx)(y,{...p,children:(0,r.jsxs)("form",{onSubmit:p.handleSubmit(b),className:"space-y-4",children:[(0,r.jsx)(R,{control:p.control,name:"sistema",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{className:"space-y-3",children:[(0,r.jsx)(S,{children:"Sistema de Amortiza\xe7\xe3o"}),(0,r.jsx)(z,{children:(0,r.jsxs)(Y,{onValueChange:a.onChange,defaultValue:a.value,className:"flex space-x-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(ee,{value:"SAC",id:"sac"}),(0,r.jsx)(S,{htmlFor:"sac",className:"font-normal cursor-pointer",children:"SAC"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(ee,{value:"PRICE",id:"price"}),(0,r.jsx)(S,{htmlFor:"price",className:"font-normal cursor-pointer",children:"PRICE"})]})]})}),(0,r.jsxs)(k,{children:["SAC: Amortiza\xe7\xe3o constante, parcelas decrescentes",(0,r.jsx)("br",{}),"PRICE: Parcelas fixas, amortiza\xe7\xe3o crescente"]}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(R,{control:p.control,name:"valor",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(S,{children:"Valor do Financiamento (R$)"}),(0,r.jsx)(z,{children:(0,r.jsx)(I,{type:"number",step:"0.01",...a})}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(R,{control:p.control,name:"num_parcelas",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(S,{children:"N\xfamero de Parcelas"}),(0,r.jsx)(z,{children:(0,r.jsx)(I,{type:"number",...a})}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(R,{control:p.control,name:"taxa_anual",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(S,{children:"Taxa de Juros Anual (%)"}),(0,r.jsx)(z,{children:(0,r.jsx)(I,{type:"number",step:"0.01",...a})}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(R,{control:p.control,name:"tr",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(S,{children:"TR (%)"}),(0,r.jsx)(z,{children:(0,r.jsx)(I,{type:"number",step:"0.01",...a})}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(R,{control:p.control,name:"parcela_alvo",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(S,{children:"Parcela Alvo (R$)"}),(0,r.jsx)(z,{children:(0,r.jsx)(I,{type:"number",step:"0.01",...a})}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(R,{control:p.control,name:"tipo_amortizacao",render:e=>{let{field:a}=e;return(0,r.jsxs)(P,{children:[(0,r.jsx)(S,{children:"Tipo de Amortiza\xe7\xe3o"}),(0,r.jsxs)(K,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,r.jsx)(z,{children:(0,r.jsx)(V,{children:(0,r.jsx)(O,{placeholder:"Selecione o tipo de amortiza\xe7\xe3o"})})}),(0,r.jsxs)(q,{children:[(0,r.jsx)(B,{value:"SEM AMORTIZA\xc7\xc3O",children:"Sem Amortiza\xe7\xe3o"}),(0,r.jsx)(B,{value:"REDUZIR PARCELA",children:"Reduzir Parcela"}),(0,r.jsx)(B,{value:"REDUZIR PRAZO",children:"Reduzir Prazo"})]})]}),(0,r.jsx)(E,{})]})}}),(0,r.jsx)(D,{type:"submit",className:"w-full",disabled:c,children:c?"Calculando...":"Calcular"})]})})})]}),(0,r.jsx)("div",{className:"lg:col-span-2",children:(e.length>0||s.length>0)&&(0,r.jsxs)(U,{defaultValue:n.toLowerCase(),onValueChange:e=>{"comparison"===e?d("COMPARISON"):"sac"===e?d("SAC"):d("PRICE")},children:[(0,r.jsxs)(G,{className:"grid w-full grid-cols-3",children:[(0,r.jsx)(Z,{value:"sac",disabled:0===e.length,children:"SAC"}),(0,r.jsx)(Z,{value:"price",disabled:0===s.length,children:"PRICE"}),(0,r.jsx)(Z,{value:"comparison",disabled:0===e.length||0===s.length,children:"Comparativo"})]}),(0,r.jsx)(H,{value:"sac",children:(0,r.jsxs)(U,{defaultValue:"charts",children:[(0,r.jsxs)(G,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(Z,{value:"charts",children:"Gr\xe1ficos"}),(0,r.jsx)(Z,{value:"table",children:"Tabela"})]}),(0,r.jsx)(H,{value:"charts",children:(0,r.jsxs)(x,{children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{children:"Visualiza\xe7\xe3o do Financiamento SAC"}),(0,r.jsx)(j,{children:"Gr\xe1ficos de evolu\xe7\xe3o do financiamento"})]}),(0,r.jsx)(f,{children:(0,r.jsx)(ew,{data:e})})]})}),(0,r.jsx)(H,{value:"table",children:(0,r.jsxs)(x,{children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{children:"Tabela de Amortiza\xe7\xe3o SAC"}),(0,r.jsx)(j,{children:"Detalhamento das parcelas do financiamento"})]}),(0,r.jsx)(f,{children:(0,r.jsx)(ed,{data:e})})]})})]})}),(0,r.jsx)(H,{value:"price",children:(0,r.jsxs)(U,{defaultValue:"charts",children:[(0,r.jsxs)(G,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(Z,{value:"charts",children:"Gr\xe1ficos"}),(0,r.jsx)(Z,{value:"table",children:"Tabela"})]}),(0,r.jsx)(H,{value:"charts",children:(0,r.jsxs)(x,{children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{children:"Visualiza\xe7\xe3o do Financiamento PRICE"}),(0,r.jsx)(j,{children:"Gr\xe1ficos de evolu\xe7\xe3o do financiamento"})]}),(0,r.jsx)(f,{children:(0,r.jsx)(ew,{data:s})})]})}),(0,r.jsx)(H,{value:"table",children:(0,r.jsxs)(x,{children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{children:"Tabela de Amortiza\xe7\xe3o PRICE"}),(0,r.jsx)(j,{children:"Detalhamento das parcelas do financiamento"})]}),(0,r.jsx)(f,{children:(0,r.jsx)(ed,{data:s})})]})})]})}),(0,r.jsx)(H,{value:"comparison",children:(0,r.jsxs)(x,{children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(h,{children:"Comparativo SAC vs PRICE"}),(0,r.jsx)(j,{children:"An\xe1lise comparativa entre os sistemas de amortiza\xe7\xe3o"})]}),(0,r.jsx)(f,{children:(0,r.jsx)(eP,{sacData:e,priceData:s})})]})})]})})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[214,441,684,358],()=>a(26816)),_N_E=e.O()}]);